{% extends 'Jokes/base.html' %}

{% block content %}
<center><h1>Real Time Jokes App with Django, Celery, Redis, Channels</h1></center><hr>

<p id="app">{{ text }}</p>

<script>
    var socket = new WebSocket('ws:localhost:8000/ws/jokes/');

    socket.onmessage = function(event){
        var joke = event.data;
        document.querySelector('#app').innerText = joke;
    }
</script>
{% endblock content %}
